<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet"> 
<link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet"> 
</head>
<body>
<div id="startDiv">
        <div class="titleContent"><p class="title">Rock, Paper <br> & scissors!</p></div>
       
    <div class="howto">
        <h2>HOW TO PLAY?</h2>
        <p>Rock wins to scissors <br>Scissors wins to paper <br>Paper wins to rock</p>
    </div>
     <button id="startButton">START GAME</button>
</div>
<div id="playDiv">
    <div id="resultDiv">
        <p    id="showResult"></p></div>
    <div id="selections" class="playerSelections">
        <button data-type="scissors" id="scissors" class="selection"></button>
        <button data-type="rock" id="rock" class="selection"></button>
        <button data-type="paper" id="paper" class="selection"></button>
    </div>
</div>


<div id="scoreDiv"><p id="scoreText"></p></div>

    <script>
const buttons= document.querySelectorAll('button.selection');
let playerScore=0;
let computerScore=0;




// Function that hides the startBackground
    document.getElementById("startButton").onclick = function() {
    document.getElementById("startDiv").style.display = "none";
    document.getElementById("playDiv").style.display = "flex";
    document.getElementById("scoreDiv").style.display = "flex";
    } 

//Function that makes the computerPlay

function computerPlay(){
            let computerAnswer;
        //Randomly return Rock, Papper Or Scissors 
            //Randomly generate a number betwen 0 to 2
            let randomNumber = Math.floor(Math.random()*3);
                    // console.log(randomNumber);
            //Give each number a property
            // if it is 0 = Rock
            if(randomNumber === 0){
                computerAnswer = 'rock';}
            // if it is 1 = paper
            else if(randomNumber === 1){
                computerAnswer = 'paper';}
            // if it is 2 = Scissors
            else {
                computerAnswer = 'scissors';}
            //Return answer.
            return computerAnswer;
}


//Function That takes the choice of the user and iniciates the computerSelection

buttons.forEach(button => {
    button.addEventListener("click",() =>{
        const computerSelection = computerPlay();
        console.log('c',computerSelection)
        const playerSelection =`${button.id}` ;
        console.log('p',playerSelection)
        let roundResult = roundPlay(computerSelection, playerSelection);
        let roundCheck = comparePoints(playerScore,computerScore);
        console.log("R",roundCheck)
        let para = document.getElementById("scoreText");
        let node = document.createTextNode(playerScore);
        para.appendChild(node);
    })


})



function comparePoints(playerScore, computerScore){
    if (playerScore === 5 && computerScore < playerScore){
    document.getElementById("playDiv").style.display = "none";
    document.getElementById("endDiv").style.display = "flex";
    return 'user'

    }else if(computerScore === 5 && playerScore < computerScore){
    document.getElementById("playDiv").style.display = "none";
    document.getElementById("endDiv").style.display = "flex";
    return 'computer'

    }else{
        return 'again'
    }

}

//Function that compare answers 
function roundPlay(computerSelection, playerSelection){
    let result='';
    if (computerSelection === 'rock' && playerSelection === 'paper' ){
        result = "user wins";
        playerScore++;
    }
    else if (computerSelection === 'rock' && playerSelection === 'scissors' ){
        result = "user lose";
        computerScore++;
    }
    else if (computerSelection === 'paper' && playerSelection === 'scissors' ){
        result = "user wins";
        playerScore++;
    }
    else if (computerSelection === 'paper' && playerSelection === 'rock' ){
        result = "user lose";
        computerScore++;
    }
    else if (computerSelection === 'scissors' && playerSelection === 'rock' ){
        result = "user wins";
        playerScore++;
    }
    else if (computerSelection === 'scissors' && playerSelection === 'paper' ){
        result = "user lose";
        computerScore++;
    }else{
        result= 'tie';
    }
console.log(result);
console.log('P',playerScore);
console.log('C',computerScore);

}


/*

//function that plays a single round
function roundPlay(){
    // computerPlay();
   
    // userPlay();
    let result = 'string';
    let computerAnswer = computerPlay();
    console.log(computerAnswer);
    let userAnswer =  userPlay();
    let x;
    
    
    
    //compare computerAnswer vs userAnswer
        //if user answer is rock and computeranswer is paper
    if (userAnswer == 'rock' && computerAnswer == 'paper' ){
        result = "user lose rock < paper";
        x=0;
        console.log(result);
    }
        //if user answer is rock and computeranswer is scissors
    else if (userAnswer == 'rock' &&  computerAnswer == 'scissors' ){
         result = "user wins rock > paper";
         x=1;
        console.log(result);
    }
        //if user answer is paper and computeranswer is scissors
    else if (userAnswer == 'paper' && computerAnswer == 'scissors' ){
         result = "user lose paper < scissors";
         x=0;
        console.log(result);
    }
         //if user answer is paper and computeranswer is rock
         else if (userAnswer == 'paper' && computerAnswer == 'rock' ){
         result = "user wins paper > rock";
         x=1;
        console.log(result);
    }
         //if user answer is SCISSORS and computeranswer is rocks
         else if (userAnswer == 'scissors' && computerAnswer == 'rock' ){
         result = "user lose scissors < rock";
         x=0;
        console.log(result);
    }
         //if user answer is scissors and computeranswer is paper
         else if (userAnswer == 'scissors' && computerAnswer == 'paper' ){
         result = "user wins scissors > paper";
         x=1;
        console.log(result);
    }
        else if (userAnswer == computerAnswer){
         result = "draw";
        console.log(result);
    }
         //drawn
        else {
            result='error, bad grammar';
            console.log(result)
        }
        return x;
}

//the game function
function game(){
    //points variables
        let uPoint=0;
        let cPoint=0;
//create a loop to call the roundplay
    for (let i = 0; i <5;) {
       
        let round = roundPlay();
       if (i < 5,round == 0){
             //adding points
             cPoint++;
             i++;
         }
         else if (i < 5,round == 1 ){
            //adding points
            uPoint++;
            i++;
         } else{
            console.log('draw');
         }
         console.log('computer:',cPoint,'user:',uPoint);
    }
    //compare the points betwen the upoints and the cpoints
    // and determinate the winner
    if(uPoint > cPoint){
    console.log('the winner is the user with: ',uPoint,' points!');
    }
    else{
        console.log('USER LOSE')
    }

 }

game();
    */
    </script>
</body>
</html>